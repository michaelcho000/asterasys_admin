# 전환 퍼널 예측 기획 — 검색 → 시술 결정(구매 아님)

- 작성일: 2025-09-30
- 근거 문서: `docs/전환퍼널분석.md`
- 목적: 화면 구성을 위한 기획 문서. 코딩 없이 카드 구성, 데이터 규칙, 비교 흐름을 명확히 정의.
- 원칙: 새로운 UI 제작 금지. Duralux의 카드, 탭, 진행률(progress), 배지(badge), 표(table)만 재사용.
- 주의: 본 퍼널은 “제품 구매”가 아니라 “검색 → 시술 결정”까지의 환자 여정에 한정.

---

## 1) 전환 퍼널 예측(시장 벤치마크 기반)
- 단계 고정: 1) 검색/노출 → 2) 방문 → 3) 문의(리드) → 4) 시술 결정
- 기준 전환율(문서 중간값)
  - CTR(검색→방문): 3.5% (범위 2~5%)
  - 방문→문의: 2.5% (범위 1~4%)
  - 문의→예약: 45% (범위 30~60%)
  - 예약→시술 결정: 55% (범위 40~70%)
- 산식
  - visits = searches × ctr
  - inquiries = visits × siteToInquiry
  - bookings = inquiries × inquiryToBooking
  - procedures = bookings × bookingToProcedure
  - finalConversion = procedures ÷ searches

예시(가정: searches=10,000)
- visits = 10,000 × 3.5% = 350
- inquiries = 350 × 2.5% = 8.75 ≈ 8.8
- bookings = 8.8 × 45% ≈ 4.0
- procedures = 4.0 × 55% ≈ 2.2
- finalConversion ≈ 0.0217%

표시 규칙
- 단위 표기 통일: %, K, M 사용. 소수점 반올림.
- 단계 진행률은 직전 단계 100% 기준의 상대 길이로 시각화.

UI(재사용)
- `.card` + `.card-header` + `.card-body`
- 상단 필터: 기간, 제품(리프라/쿨소닉/쿨페이즈 등), 채널
- 본문: 수평 진행바 4개(`.progress .progress-bar`) + 최종 전환율 요약 배지

---

## 2) 시장 평균 경쟁사 예측 분석
- 경쟁사: 덴서티, 세르프, 올리지오, 볼뉴머, 텐써마
- 초기값: 상기 중간값(CTR 3.5%/2.5%/45%/55%)을 동일 적용 → 데이터 연동 시 브랜드별 보정(채널 믹스, 카테고리 특성)

표(예시, searches=10,000)
- 컬럼: 단계, 시장 평균 전환율, 예상 절대값
- 행: 방문(CTR), 문의, 예약, 시술 결정
- 최종: finalConversion ≈ 0.0217%

보정 가이드(데이터 연동 시)
- 카페 비중↑ → 방문→문의 상향 보정
- 상담 응답 속도/품질↑ → 문의→예약 상향 보정
- 의료진 신뢰/후기↑ → 예약→시술 결정 상향 보정

UI(재사용)
- 탭 `시장 평균` 내부 우측에 단계별 막대, 좌측에 최종 전환율 요약 배지.

---

## 3) 우리 제품 분석(초기=중간값, 데이터 연결 시 대체)
- 초기 로딩: 시장 평균 중간값 사용(동일 수치)
- 내부 관측치(실측) 존재 시 단계별 전환율을 대체 적용
- 경쟁력 체크 지표
  - RCI(Relative Conversion Index) = our.finalConversion ÷ competitorAvg.finalConversion
  - SAI(Stage Advantage Index) = our.stepRate ÷ competitorAvg.stepRate (visit/inquiry/booking/procedure)
  - Bottleneck = SAI 최소 단계
  - Sensitivity = 각 단계 전환율 +1%p 변화 시 finalConversion 변화량

표(예시)
- 컬럼: 단계, 우리 제품 전환율, 시장 평균 전환율, SAI, 비고(개선 포인트)
- 최종: RCI 계산 및 해석(1.0=동일, >1.0 우위)

UI(재사용)
- 탭 `우리 제품`: 좌측에 RCI 수평 진행바 + 배지, 우측에 단계별 SAI 미니 진행바 4개.

---

## 4) 비교 단계(시장 평균 vs 경쟁사 평균 vs 우리 제품)
- 목표: 3개 시나리오를 동일 축에서 직관 비교
- 구성
  - 상단 스위치: 절대값/비율 전환
  - 본문: 3행 × 4단계 매트릭스(각 셀 수평 진행바 + 수치)
  - 하단 요약 표: 최종 전환율, 병목 단계, 단계별 격차

UI(재사용)
- `.table.table-sm.table-borderless` + `.progress`
- 색상: 테마 색(primary/success/warning)만 사용. 새 색상 추가 금지.

---

## 화면 레이아웃(카드 + 탭)
- 카드 헤더
  - 제목: “시술 예약 전환 퍼널 예측(검색 → 시술 결정)”
  - 툴팁: “본 퍼널은 제품 구매 퍼널이 아님” 명시
  - 필터: 기간/제품/채널
- 탭
  - 탭1: 시장 평균 예측
  - 탭2: 경쟁사 평균 예측(덴서티·세르프·올리지오·볼뉴머·텐써마)
  - 탭3: 우리 제품 분석
  - 탭4: 비교(옵션)

구현 컴포넌트(재사용)
- 레이아웃: `.card`, `.row`, `.col-*`
- 탭: `.nav .nav-tabs` + `.tab-content`
- 진행률: `.progress .progress-bar` 또는 `src/components/shared/HorizontalProgress.jsx`
- 보조: `.badge`, `.table`

---

## 데이터 스키마(문서 기준 제안)
입력
```
searches: number
ctr?: number(기본 0.035)
siteToInquiry?: number(기본 0.025)
inquiryToBooking?: number(기본 0.45)
bookingToProcedure?: number(기본 0.55)
range?: { start: string; end: string }
```

출력
```
visits, inquiries, bookings, procedures, finalConversion
steps: [
  { key: 'search'|'visit'|'inquiry'|'procedure', absolute, stepRate }
]
```

경고/표기
- 데이터가 없을 때: “데이터가 없습니다” 메시지 + 가이드
- N/A 단계: 흐림 처리 + `N/A` 라벨
- 반올림/합계 검증: 표기 일관성 유지

---

## QA 체크리스트
- 퍼널 단계가 일관되게 “검색→방문→문의→시술 결정”을 가리키는가
- 최종 전환율이 단계별 절대 수치와 일치하는가
- 절대/비율 전환 시 단위 표기가 정확한가
- Duralux 클래스만으로 UI가 구현 가능한가(새 UI 불가)
- 비교 탭에서 동일 축/스케일로 3개 시나리오가 비교되는가

---

## 메모
- 경쟁사 평균은 초기에는 시장 평균 중간값으로 설정하고, 추후 데이터 연동 시 덴서티/세르프/올리지오/볼뉴머/텐써마 각각의 채널·카테고리 특성에 따라 단계별 보정 예정.
